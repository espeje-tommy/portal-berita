<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal Berita</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body{margin:0;font-family:'Poppins',sans-serif;background:#fafafa;color:#222;line-height:1.6;}
    header{background:#f7b500;color:#000;padding:1rem;text-align:center;font-weight:600;}
    main{max-width:900px;margin:1rem auto;padding:0 1rem;}
    .post{display:flex;gap:1rem;margin-bottom:1.5rem;background:#fff;padding:1rem;border-radius:12px;box-shadow:0 3px 10px rgba(0,0,0,.05);}
    .thumb{width:120px;height:80px;object-fit:cover;border-radius:8px;flex-shrink:0;}
    .content h2{margin:.2rem 0;font-size:1.1rem;}
    .content p{margin:.4rem 0;color:#555;}
    .btn{display:inline-block;background:#f7b500;color:#000;padding:.4rem .8rem;border-radius:8px;text-decoration:none;font-weight:600;}
  </style>
</head>
<body>
  <header>Portal Berita</header>
  <main id="list"></main>

  <script>
    const API_BASE = "https://script.google.com/macros/s/AKfycbzpgdh4RbGx0G38QesDE5vYSBdKW1ikzNMFNfPGDN3rRKR8iLx5gpkY8BaeIxtJZRvUMA/exec";

    async function loadPosts(){
      const r = await fetch(`${API_BASE}?action=getPosts`);
      const {ok,data} = await r.json();
      if(!ok) return;
      const container = document.getElementById('list');
      data.forEach(item=>{
        const div=document.createElement('div');
        div.className='post';
        div.innerHTML=`
          ${item.GambarURL?`<img src="${item.GambarURL}" class="thumb" alt="${item.Judul}">`:''}
          <div class="content">
            <h2>${item.Judul||''}</h2>
            <p>${(item.Isi||'').substring(0,120)}...</p>
            <a href="detail.html?id=${item.ID}" class="btn">Baca Selengkapnya</a>
          </div>`;
        container.appendChild(div);
      });
    }
    loadPosts();
  </script>
</body>
</html>
